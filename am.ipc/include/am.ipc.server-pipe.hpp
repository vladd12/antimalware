#ifndef SERVER_PIPE_H
#define SERVER_PIPE_H

#include "am.ipc.base-pipe.hpp"

namespace ipc {
	// Class for server pipe
	class IPC_LIB_API ServerPipe : public BasePipe {
	public:
		// Default constructor
		explicit ServerPipe() noexcept;

		// Constructor with params
		ServerPipe(const std::string& pipeName) noexcept(false);

		// Copying constructor
		ServerPipe(const ServerPipe& rhs) noexcept;

		// Overloading operator "="
		ServerPipe& operator=(const ServerPipe& rhs) noexcept;

		// Creating server pipe
		virtual bool CreatePipe(const std::string& pipeName) noexcept override;

		// Waiting connection
		bool WaitConnection() noexcept;

		// Close connection with client
		bool Disconnect() noexcept;

	};

}

#endif // SERVER_PIPE_H

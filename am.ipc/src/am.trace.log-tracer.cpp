#include "../include/am.trace.log-tracer.hpp"

namespace trace {
	// Constructor that gets path file
	LogTracer::LogTracer(const char* const pathFile) noexcept:
		logFile(pathFile, std::ios::app) { }

	// Constructor that gets opened file
	LogTracer::LogTracer(FileStream& file) noexcept:
		logFile(std::move(file)) { }

	// Destructor
	LogTracer::~LogTracer() noexcept {
		logFile.close();
	}

	// Tracer returns a stream for the specified trace level
	FileStream& LogTracer::Trace(TraceLevel&& traceLvl) noexcept {
		switch (traceLvl) {
		case TraceLevel::Info:
			logFile << TEXT("[INFO]\t");
			break;
		case TraceLevel::Warning:
			logFile << TEXT("[WARN]\t");
			break;
		case TraceLevel::Error:
			logFile << TEXT("[ERROR]\t");
			break;
		}
		return logFile;
	}

}

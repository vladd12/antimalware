#ifndef AM_DB_RECORDS_BATCH_H
#define AM_DB_RECORDS_BATCH_H

#include <cstdlib>
#include "am.db.structures.hpp"
#include "am.db.dbfile.hpp"

namespace db {
	// Batch of records from DB
	class RecordBatch {
	private:
		Record* _ptrRecords;
		uint32_t _batchSize;

	public:
		// Delete default constructor
		explicit RecordBatch() noexcept = delete;

		// Declare constructor with params
		explicit RecordBatch(uint32_t batchSize) noexcept(false);

		// Destructor
		~RecordBatch() noexcept(false);

		// Read records from DB file to batch of records
		// Return false if batch is not fully filled, else return true
		uint32_t ReadRecords(DBFileReader& dbfr);

		// t1
		uint32_t GetBatchSize() noexcept {
			return _batchSize;
		}

		// t2
		Record* GetRecords() noexcept {
			return _ptrRecords;
		}

	};

}

#endif // AM_DB_RECORDS_BATCH_H
